@import url('https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.css');
@import url('https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css');

body {
	color: black;

	min-height: 100vh;
	min-width: 100%;

	display: grid;
	grid-template-rows: 75px 1fr 75px;
	grid-template-columns: 1fr;
	grid-template-areas: 	"header"
												"main"
												"footer";
}

header {
	grid-area: header;

	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 0 30px 0 20px;
	border-bottom: whitesmoke 1px solid;
}

header > :first-child {
	font-size: 3em;
	flex: 0 0 auto;
	font-family: Arial, Helvetica, sans-serif;
}

header #status-cont {
	display: flex;
	align-items: center;
	flex: 0 0 25%;
	height: 75px;
	padding: 10px 5px 5px 5px;
}

header #status-cont > p {
	margin: 0 5px 0 5px;
}

main {
	grid-area: main;

	display: flex;
	flex-flow: column nowrap;
	margin: 10px 0 0 0;
}

main > .mixture-waveform-cont {
	flex: 0 0 100px;
	display: flex;
	align-items: stretch;
	padding: 10px 20px;
	margin: 0 30px 20px 30px;
}

main > .mixture-waveform-cont > .controls {
	flex: 0 0 40px;
	margin: 0 20px 0 20px;

	display: flex;
	flex-flow: column;
	justify-content: space-around;
}

main > .mixture-waveform-cont > .controls div {
	padding: 10px 0;

	display: flex;
	justify-content: center;
	align-items: center;
}

main > .mixture-waveform-cont > #mixture-waveform {
	flex: 1;
}

main > .mixture-waveform-cont > .upload {
	display: flex;

	cursor: pointer;
	justify-content: center;
	align-items: center;
	flex: 0 0 80px;
}

main > .interaction {
	flex: 1 0 auto;
	display: flex;
	flex-flow: column;

	justify-content: space-around;
	align-items: center;
}

main > .interaction > .plots {
	/* flex: 1 0 auto; */
	align-self: stretch;
	display: flex;
	flex-flow: row wrap;
	justify-content: space-around;
	align-items: center;
	padding: 0 20px 10px 20px;
}

main > .interaction > .plots > .outer {
	flex: 0 1 29%;
}

main > .interaction > .plots > .spectrogram-css {
	flex: 0 1 65%;

	/*
		set min-width manually (to anything) otherwise its automatically set
		to initial size on load and then will refuse to shrink below
		that

		set to 850 specifically to enable wrapping of flex items before
		plots become unusably small, corresponds to window width of 1280
	*/
	min-width: 850px;
}

main > #results-header {
	font-size: 3em;
	flex: 0 0 auto;
	font-family: Arial, Helvetica, sans-serif;
}

.interaction > .results-waveform-cont {
	flex: 0 0 100px;
	width: 100vw;
	padding: 10px 20px;
	display: flex;
	align-items: stretch;
	justify-content: space-around;
}

.interaction > .results-waveform-cont > .controls {
	flex: 0 0 40px;
	margin: 0 20px 0 20px;

	display: flex;
	flex-flow: column;
	justify-content: space-around;
}

.interaction > .results-waveform-cont > .controls div {
	padding: 10px 0;

	display: flex;
	justify-content: center;
	align-items: center;
}

.interaction > .results-waveform-cont > .results-waveform-css {
	flex: 1;
}


footer {
	grid-area: footer;
	border-top: whitesmoke solid 1px;
	text-align: center;
	padding: 5px;
}

footer p {
	margin: 3px;
	font-size: .8em;
}

.aspect-ratio-box {
	/*
		padding-top/bottom are calculated against
		width of containing element. If height is set
		to 0 (and there are no other padding rules) then
		padding-top will make up the full vertical dimension.
		100% therefore means padding is as tall as the width of
		the containing block resulting in a square. 50% is a 2:1
		width to height ratio and so on
	*/
	height: 0;
	padding-top: 100%;
	position: relative;
}

.alignment {
	/* position absolutely to realign inner content */
	position: absolute;

	/* position at top left */
	top: 0;
	left: 0;

	/* make same size as enclosing box */
	width: 100%;
	height: 100%;
}


/* SPINNER */

/* initiallly hide all */

.results-waveform-cont > .spinner-outer {
	display: flex;
	justify-content: center;
	align-items: center;
}

.plots-spinner {
	display: none
}

.results-waveform-cont > .results-spinner {
	display: none
}

.spinner-waveform {
  background: lightblue;

	width: 40px;
  height: 40px;
  border-radius: 100%;
  -webkit-animation: sk-scaleout 1.0s infinite ease-in-out;
  animation: sk-scaleout 1.0s infinite ease-in-out;
}

.spinner {
  background: lightblue;

	width: 40px;
  height: 40px;
	margin: 100px auto;
  border-radius: 100%;
  -webkit-animation: sk-scaleout 1.0s infinite ease-in-out;
  animation: sk-scaleout 1.0s infinite ease-in-out;
}

@-webkit-keyframes sk-scaleout {
  0% { -webkit-transform: scale(0) }
  100% {
    -webkit-transform: scale(1.0);
    opacity: 0;
  }
}

@keyframes sk-scaleout {
  0% {
    -webkit-transform: scale(0);
    transform: scale(0);
  } 100% {
    -webkit-transform: scale(1.0);
    transform: scale(1.0);
    opacity: 0;
  }
}

/*
	currently pretty ugly hardcoding between this and
	min-width on spectrogram
*/
@media screen and (max-width: 1280px) {
	main > .interaction > .plots {
		align-content: center;
	}

	main > .interaction > .plots > .outer {
		flex: 0 1 36%;
		margin-bottom: 50px;
	}

	main > .interaction > .plots > .spectrogram-css {
		min-width: 0;
		flex: 0 1 90%;
	}
}